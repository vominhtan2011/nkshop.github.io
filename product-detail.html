<!doctype html>
<html lang="vi">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width,initial-scale=1">
  <title>Chi ti·∫øt s·∫£n ph·∫©m | Shop Nh·ª±a gia d·ª•ng & KhƒÉn gi·∫•y</title>
  <meta name="description" content="Xem th√¥ng tin chi ti·∫øt s·∫£n ph·∫©m nh·ª±a gia d·ª•ng & khƒÉn gi·∫•y. Li√™n h·ªá: 0387 404 109 (Zalo)">
  <style>
    :root{
      --accent:#0b78d1;
      --accent-dark:#095fa8;
      --muted:#666;
      --bg:#fff;
      --border:#eee;
      --shadow:0 2px 8px rgba(0,0,0,0.08);
      --shadow-hover:0 4px 16px rgba(0,0,0,0.12);
    }
    *{box-sizing:border-box;margin:0;padding:0}
    body{
      font-family:'Segoe UI',Tahoma,Geneva,Verdana,sans-serif;
      margin:0;
      color:#111;
      background:linear-gradient(to bottom,#f8f9fa,#ffffff);
      line-height:1.6;
    }
    header{
      background:linear-gradient(135deg,#0b78d1 0%,#4bb6ff 100%);
      padding:8px 18px;
      box-shadow:0 2px 10px rgba(0,0,0,0.1);
      position:sticky;
      top:0;
      z-index:1000;
    }
    .container{max-width:1200px;margin:0 auto;padding:0 18px}
    .brand{
      display:flex;
      align-items:center;
      gap:15px;
      flex-wrap:wrap;
    }
    .logo{
      width:50px;
      height:50px;
      border-radius:10px;
      background:rgba(255,255,255,0.2);
      backdrop-filter:blur(10px);
      display:flex;
      align-items:center;
      justify-content:center;
      color:white;
      font-weight:700;
      font-size:18px;
      border:2px solid rgba(255,255,255,0.3);
    }
    .brand-text h1{
      margin:0;
      font-size:20px;
      color:white;
      font-weight:600;
    }
    .brand-text p.lead{
      margin:2px 0 0;
      color:rgba(255,255,255,0.9);
      font-size:13px;
    }
    /* ƒê√£ x√≥a .cta c≈© */
    .btn{
      display:inline-flex;
      align-items:center;
      gap:6px;
      padding:8px 16px;
      border-radius:10px;
      text-decoration:none;
      font-weight:600;
      transition:all 0.3s ease;
      font-size:13px;
    }
    .btn-phone{
      background:rgba(255,255,255,0.95);
      color:var(--accent);
      box-shadow:0 2px 8px rgba(0,0,0,0.1);
    }
    .btn-phone:hover{
      background:white;
      transform:translateY(-2px);
      box-shadow:0 4px 12px rgba(0,0,0,0.15);
    }
    .btn-zalo{
      background:#0068ff;
      color:#fff;
      box-shadow:0 2px 8px rgba(0,104,255,0.3);
    }
    .btn-zalo:hover{
      background:#0052cc;
      transform:translateY(-2px);
      box-shadow:0 4px 12px rgba(0,104,255,0.4);
    }
    a { text-decoration:none; color:var(--accent); }
    h1,h2,h3 { margin:0; }

    .product-detail {
      display:grid;
      grid-template-columns:1fr 1fr;
      gap:24px;
      padding:30px 0;
    }
    .product-card{
      background:#fff;
      border:1px solid var(--border);
      border-radius:16px;
      box-shadow:var(--shadow);
      padding:16px;
    }
    .product-detail img {
      width:100%;
      border-radius:12px;
      border:1px solid #eee;
      object-fit:contain;
      height:auto;
      aspect-ratio:4/3;
      background:#ffffff;
    }
    .info h2 { font-size:24px; margin-bottom:10px; }
    .price { color:var(--accent); font-weight:700; font-size:18px; margin:8px 0; }
    .actions { display:flex; gap:12px; margin-top:16px; flex-wrap:wrap; }

    footer{
      margin-top:50px;
      text-align:center;
      color:var(--muted);
      padding:8px 20px;
      background:white;
      border-top:1px solid var(--border);
      border-radius:16px 16px 0 0;
      box-shadow:0 -2px 10px rgba(0,0,0,0.05);
      font-size:14px;
    }
    /* --- CSS CHO POP-UP C·ªê ƒê·ªäNH --- */
    #contact-popup {
      position: fixed;
      bottom: 20px;
      right: 20px;
      z-index: 2000;
      display: flex;
      flex-direction: column; 
      gap: 10px; 
    }
    #contact-popup .btn {
      width: 100%; 
      justify-content: center;
      padding: 10px 18px; 
      font-size: 14px;
      margin: 0;
      box-shadow: 0 4px 10px rgba(0,0,0,0.2); 
    }
    /* --- K·∫øt th√∫c CSS POP-UP --- */

    @media (max-width:768px) {
      .product-detail { grid-template-columns:1fr; }
      .product-detail img { height:auto; }

      /* Mobile header optimization */
      header{padding:8px 12px}
      .brand{
        flex-direction:row; 
        align-items:center;
        text-align:left; 
        gap:10px;
        flex-wrap: nowrap; 
        justify-content: flex-start;
      }
      .brand-text {
        flex-grow: 1; 
        text-align: left;
      }
      .brand-text h1{
        font-size:16px;
        margin:0;
      }
      .brand-text p.lead{
        font-size:10px;
        margin:4px 0 0;
      }
      .logo{
        width:40px;
        height:40px;
        font-size:16px;
      }
      /* T·ªëi ∆∞u pop-up tr√™n mobile */
      #contact-popup {
        bottom: 12px;
        right: 12px;
        padding: 0px;
        gap: 8px;
      }
      #contact-popup .btn{
        padding: 8px 14px;
        font-size: 13px;
      }
    }
  </style>
</head>
<body>

  <header>
    <div class="container">
      <div class="brand">
        <div class="logo">NK</div>
        <div class="brand-text">
          <h1>Shop Nh·ª±a gia d·ª•ng & KhƒÉn gi·∫•y</h1>
          <p class="lead">Chuy√™n ph√¢n ph·ªëi s·ªâ & l·∫ª nh·ª±a gia d·ª•ng, khƒÉn gi·∫•y - Giao h√†ng to√†n qu·ªëc</p>
        </div>
      </div>
    </div>
  </header>

  <main class="container">
    <div class="actions" style="margin-top: 16px; justify-content: flex-start; display: none; @media (min-width: 769px) { display: flex; }">
        <a class="btn btn-phone" href="index.html">‚Üê Trang ch·ªß</a>
        <a class="btn btn-phone" href="index.html#nhua">üõçÔ∏è S·∫£n ph·∫©m nh·ª±a</a>
        <a class="btn btn-phone" href="index.html#khan-giay">üßª KhƒÉn gi·∫•y</a>
    </div>

    <section class="product-detail">
      <div class="product-card">
        <img id="product-image" src="images/placeholder.jpg" alt="S·∫£n ph·∫©m">
      </div>
      <div class="product-card">
        <div class="info">
          <h2 id="product-name">T√™n s·∫£n ph·∫©m</h2>
          <div class="price" id="product-price">Gi√°: Li√™n h·ªá</div>
          <p id="product-desc">M√¥ t·∫£ chi ti·∫øt s·∫£n ph·∫©m s·∫Ω ƒë∆∞·ª£c hi·ªÉn th·ªã t·∫°i ƒë√¢y: ch·∫•t li·ªáu, k√≠ch th∆∞·ªõc, c√¥ng d·ª•ng, v√† th√¥ng tin th√™m.</p>
        </div>
        <div class="actions" style="margin-top: 24px; border-top: 1px solid #f0f0f0; padding-top: 12px;">
          <a class="btn btn-phone" href="tel:0387404109">üìû G·ªçi ƒë·∫∑t h√†ng</a>
          <a class="btn btn-zalo" href="https://zalo.me/0387404109" target="_blank">üí¨ Chat Zalo</a>
        </div>
      </div>
    </section>
  </main>

  <footer>
    ¬© <span id="year"></span> S·∫£n Ph·∫©m Nh·ª±a & KhƒÉn Gi·∫•y
  </footer>

  <div id="contact-popup">
    <a class="btn btn-phone" href="tel:0387404109">üìû 0387 404 109</a>
    <a class="btn btn-zalo" href="https://zalo.me/0387404109" target="_blank">üí¨ Zalo</a>
  </div>
  <script>
    document.getElementById('year').textContent = new Date().getFullYear();

    // L·∫•y ID s·∫£n ph·∫©m t·ª´ URL, v√≠ d·ª•: nhua-3
    const params = new URLSearchParams(window.location.search);
    const rawId = params.get('id');

    let productData = null;

    async function loadProductData() {
      try {
        const response = await fetch('products-data.html');
        if (!response.ok) {
          throw new Error(`HTTP ${response.status}`);
        }
        const text = await response.text();
        const parser = new DOMParser();
        const doc = parser.parseFromString(text, 'text/html');
        const dataScript = doc.getElementById('product-data');
        if (!dataScript) {
          throw new Error('Kh√¥ng t√¨m th·∫•y th·∫ª d·ªØ li·ªáu');
        }
        return JSON.parse(dataScript.textContent);
      } catch (error) {
        console.error('Kh√¥ng th·ªÉ t·∫£i d·ªØ li·ªáu s·∫£n ph·∫©m:', error);
        showMissingProduct("Kh√¥ng th·ªÉ t·∫£i d·ªØ li·ªáu s·∫£n ph·∫©m. Vui l√≤ng th·ª≠ l·∫°i sau.");
        return null;
      }
    }

    function findProductById(id) {
      if (!productData || !productData.categories) return null;
      for (const [categoryKey, items] of Object.entries(productData.categories)) {
        const product = items.find(item => item.id === id);
        if (product) {
          return {
            ...product,
            categoryKey
          };
        }
      }
      return null;
    }

    function getCategoryLabel(categoryKey) {
      if (!productData || !productData.meta || !productData.meta.categoryLabels) {
        return '';
      }
      return productData.meta.categoryLabels[categoryKey] || '';
    }

    function showMissingProduct(message) {
      const nameEl = document.getElementById("product-name");
      const descEl = document.getElementById("product-desc");
      const imgEl = document.getElementById("product-image");
      const priceEl = document.getElementById("product-price");
      nameEl.textContent = "Kh√¥ng t√¨m th·∫•y s·∫£n ph·∫©m";
      descEl.textContent = message || "S·∫£n ph·∫©m c√≥ th·ªÉ ƒë√£ b·ªã x√≥a ho·∫∑c ƒë∆∞·ªùng d·∫´n kh√¥ng ch√≠nh x√°c.";
      priceEl.textContent = "Gi√°: Li√™n h·ªá";
      imgEl.src = "images/placeholder.jpg";
      imgEl.alt = "Kh√¥ng t√¨m th·∫•y s·∫£n ph·∫©m";
    }

    (async function init() {
      if (!rawId) {
        showMissingProduct("Thi·∫øu m√£ s·∫£n ph·∫©m trong ƒë∆∞·ªùng d·∫´n.");
        return;
      }

      productData = await loadProductData();
      if (!productData) {
        return;
      }

      const product = findProductById(rawId);
      if (!product) {
        showMissingProduct("Kh√¥ng t√¨m th·∫•y s·∫£n ph·∫©m v·ªõi m√£ ƒë√£ cung c·∫•p.");
        return;
      }

      const nameEl = document.getElementById("product-name");
      const descEl = document.getElementById("product-desc");
      const imgEl = document.getElementById("product-image");
      const priceEl = document.getElementById("product-price");

      nameEl.textContent = product.name;
      descEl.textContent = product.description || "ƒêang c·∫≠p nh·∫≠t th√¥ng tin s·∫£n ph·∫©m.";
      imgEl.src = product.image || "images/placeholder.jpg";
      imgEl.alt = product.name;
      const priceText = product.price ? product.price : "Li√™n h·ªá";
      priceEl.textContent = `Gi√°: ${priceText}`;
      document.title = `${product.name} | Chi ti·∫øt s·∫£n ph·∫©m`;
    })();
  </script>
</body>
</html>
